
# Valuation Models 
A **CSVâ€‘first valuation showcase** built around a single notebook, `Valuation_Demo.ipynb`.  







---

## ðŸ§­ Models at a glance (7 total)

| Model | Status | Data Source / Calculation | Formula |
|---|:--:|---|---|
| **DCF (Discounted Cash Flow)** | âœ… Implemented | Free cash flow from cashflow statement; discount & terminal growth from `config.json` | See formula below |
| **DDM (Dividend Discount Model)** | âœ… Implemented | Dividend history or `EPS Ã— payout_ratio`; longâ€‘run `g` from `config.json` or `growth_rates.csv` | Twoâ€‘stage Gordon |
| **Graham Number** | âœ… Implemented | EPS & BVPS from fundamentals | \\( \sqrt{22.5 \times EPS \times BVPS} \\) |
| **Buffett Fair Value (approx.)** | âœ… Implemented | EPS & growth (percent) from `growth_rates.csv` or info fallback | \\( EPS \times (8.5 + 2g\%) \\) |
| **Relative Valuation (P/E, P/B)** | âš ï¸ Data pulled only | `trailingPE`, `priceToBook` (or `price / bookValue`) from `yfinance` | Direct multiples |
| **Residual Income (ROE snapshot)** | âš ï¸ Data pulled only | ROE, BVPS, cost of equity \\( k_e=r_f+\beta \cdot MRP \\) | \\( AE=(ROE-k_e)\times BV \\) *(snapshot)* |
| **EV/EBITDA Multiple** | âš ï¸ Data pulled only | EV from market cap + debt âˆ’ cash; EBITDA from info | \\( \tfrac{EV}{EBITDA} \\) |


---

## ðŸ“ Outputs (for screenshots)

```
output/
â”œâ”€ pe_pb.csv               # P/E & P/B snapshot
â”œâ”€ residual_income.csv     # ROE, k_e, abnormal earnings snapshot
â”œâ”€ ev_ebitda.csv           # EV/EBITDA multiple
â”œâ”€ results.csv             # Core valuations: DCF / DDM / Graham / Buffettâ€‘approx
â”œâ”€ report.html             # Coloured table (Undervalued / Overvalued)
â”œâ”€ combined_models.csv     # Final consolidation on Ticker
â””â”€ growth_rates.csv        # (Optional) Suggested g per ticker (Buffett/DDM)
```

---

## ðŸ”Ž Column glossary (quick meanings)

- **Ticker** â€” instrument code (e.g., `AAPL`, `2330.TW`, `GLD`)  
- **price** â€” latest price (recent close or realâ€‘time fallback)  
- **trailingPE** â€” \\( \mathrm{PE}=\tfrac{Price}{EPS_{TTM}} \\)  
- **priceToBook** â€” \\( \mathrm{P/B}=\tfrac{Price}{BVPS} \\)  
- **beta (Î²)** â€” market sensitivity (â‰ˆ1 marketâ€‘like; >1 more volatile; <1 defensive)  
- **ke** â€” cost of equity via CAPM: \\( k_e=r_f+\beta\cdot MRP \\)  
- **net_income** â€” latest annual net income (GAAP/IFRS)  
- **book_equity (BV)** â€” shareholdersâ€™ equity = assets âˆ’ liabilities  
- **roe** â€” \\( \tfrac{Net\ Income}{Book\ Equity} \\)  
- **abnormal_earnings (AE)** â€” \\( (\mathrm{ROE}-k_e)\times BV \\) *(snapshot)*  
- **ev_to_ebitda** â€” \\( \tfrac{EV}{EBITDA} \\), with \\( EV=Market\ Cap+Debt-Cash \\)

---

## ðŸ§® Formulae (reference)

**Toy DCF**  
\\[
\text{Firm Value}=\sum_{t=1}^{N}\frac{FCF_0(1+g)^t}{(1+r)^t}+\frac{FCF_N(1+g)}{(r-g)}\cdot\frac{1}{(1+r)^N},\qquad FCF_N=FCF_0(1+g)^N
\\]

**DDM (twoâ€‘stage, simplified)**  
\\[
P_0\approx \sum_{i=1}^{n}\frac{D_0(1+g)^i}{(1+k_e)^i}+\frac{D_{n+1}}{k_e-g}\cdot\frac{1}{(1+k_e)^n}
\\]

**Graham Number**  
\\[
\sqrt{22.5\times EPS\times BVPS}
\\]

**Residual Income (full valuation form)**  
\\[
\text{Intrinsic Value}\;=\;BV_0\;+\;\sum_{t=1}^{N}\frac{RI_t}{(1+k_e)^t},\qquad RI_t=(ROE_t-k_e)\times BV_{t-1}
\\]

**EV/EBITDA**  
\\[
\frac{EV}{EBITDA},\qquad EV=Market\ Cap+Debt-Cash
\\]

---

## ðŸ–¼ï¸ Demo gallery (drop your screenshots here)

Create a `demo/` folder and add images like:

- `demo/pe_pb_head.png` â€” first rows of **pe_pb.csv**
- `demo/ri_head.png` â€” first rows of **residual_income.csv** (highlight `roe`, `ke`, `abnormal_earnings`)
- `demo/ev_ebitda_head.png` â€” first rows of **ev_ebitda.csv**
- `demo/report_html.png` â€” browser shot of **report.html** (colour coded)
- `demo/combined_head.png` â€” first rows of **combined_models.csv**

Add them to the README where you like, e.g.:

```markdown
![P/E & P/B](demo/pe_pb_head.png)
![Residual Income](demo/ri_head.png)
![EV/EBITDA](demo/ev_ebitda_head.png)
![Coloured Report](demo/report_html.png)
![Consolidated Table](demo/combined_head.png)
```

---


## ðŸ–¼ï¸ Demo gallery

All screenshots are generated by the notebook and saved under `output/`.

### Core valuations
![DCF â€” Fair Value & Margin of Safety](output/dcf.PNG)
![DDM â€” Twoâ€‘stage Dividend Discount](output/ddm.PNG)
![Buffett fair price panel](output/buffett_dcf.PNG)

### Multiples & snapshot models
![EV/EBITDA panel](output/EV_ebita.PNG)
![Graham Number table](output/graham.PNG)
![P/E & P/B relative screen](output/pepb.PNG)
![ROE ranking & grading](output/ROE.PNG)

### Consolidated conclusion
![Conclusion / model votes](output/conclusion.PNG)


## ðŸ“Ž Contact

**Kai Yeh**  
Email: KaiYeh820206@gmail.com  
GitHub: https://github.com/WayneKaiYeh

---

## ðŸ“„ License

This repository is shared under the **Creative Commons BYâ€‘NCâ€‘ND 4.0** licence.  
- No commercial use
- No derivatives or redistribution
- Attribution required

All rights to any private research notebooks and datasets are reserved.
